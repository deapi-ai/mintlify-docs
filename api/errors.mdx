---
title: "Errors & Status Codes"
description: "HTTP status codes, error responses, and best practices for error handling."
---

deAPI uses conventional HTTP status codes to indicate the success or failure of API requests. This page documents all possible error codes and how to handle them.

## HTTP Status Codes

### Success Codes

| Code | Status | Description |
|------|--------|-------------|
| `200` | OK | Request succeeded. Response contains requested data. |
| `201` | Created | Resource created successfully. |
| `202` | Accepted | Request accepted for async processing. Poll for results. |

### Client Error Codes

| Code | Status | Description |
|------|--------|-------------|
| `400` | Bad Request | Invalid request parameters or malformed JSON. |
| `401` | Unauthorized | Missing or invalid API key. |
| `403` | Forbidden | API key lacks required permissions. |
| `404` | Not Found | Requested resource doesn't exist. |
| `413` | Payload Too Large | File exceeds maximum size limit. |
| `422` | Unprocessable Entity | Request is valid but cannot be processed. |
| `429` | Too Many Requests | Rate limit exceeded. |

### Server Error Codes

| Code | Status | Description |
|------|--------|-------------|
| `500` | Internal Server Error | Unexpected server error. Retry later. |
| `502` | Bad Gateway | Upstream service unavailable. Retry later. |
| `503` | Service Unavailable | Service temporarily down for maintenance. |
| `504` | Gateway Timeout | Request timed out. Retry with smaller payload. |

## Error Response Format

All errors return a consistent JSON structure:

```json
{
  "error": {
    "code": "error_code",
    "message": "Human-readable error description",
    "details": {
      "field": "Additional context if available"
    }
  }
}
```

## Detailed Error Examples

### 400 Bad Request

Invalid request parameters or malformed request body.

```json
{
  "error": {
    "code": "invalid_request",
    "message": "Invalid request parameters",
    "details": {
      "prompt": "This field is required",
      "width": "Must be between 64 and 2048"
    }
  }
}
```

**Common causes:**
- Missing required parameters
- Invalid parameter types (string instead of number)
- Values outside allowed ranges
- Malformed JSON in request body

**How to fix:**
- Check the API documentation for required parameters
- Validate parameter types and ranges before sending
- Ensure JSON is properly formatted

---

### 401 Unauthorized

Missing or invalid API key.

```json
{
  "error": {
    "code": "unauthorized",
    "message": "Invalid API key provided"
  }
}
```

**Common causes:**
- Missing `Authorization` header
- API key without `Bearer` prefix
- Revoked or expired API key
- Typo in the API key

**How to fix:**
- Ensure header format: `Authorization: Bearer YOUR_API_KEY`
- Verify your API key in the Dashboard
- Generate a new key if needed

---

### 403 Forbidden

API key doesn't have permission for this action.

```json
{
  "error": {
    "code": "forbidden",
    "message": "Insufficient permissions for this operation"
  }
}
```

**Common causes:**
- Attempting to access restricted endpoints
- Account-level restrictions

**How to fix:**
- Contact support if you believe this is an error

---

### 404 Not Found

Requested resource doesn't exist.

```json
{
  "error": {
    "code": "not_found",
    "message": "Request not found",
    "details": {
      "request_id": "c08a339c-73e5-4d67-a4d5-231302fbff9a"
    }
  }
}
```

**Common causes:**
- Invalid `request_id` when polling for results
- Typo in endpoint URL
- Resource has been deleted or expired

**How to fix:**
- Verify the `request_id` from the original response
- Check the endpoint URL spelling
- Results may expire after 24 hours

---

### 413 Payload Too Large

Uploaded file exceeds size limits.

```json
{
  "error": {
    "code": "payload_too_large",
    "message": "File size exceeds maximum limit",
    "details": {
      "max_size": "10MB",
      "received_size": "15MB"
    }
  }
}
```

**File size limits:**
- Images: 10 MB
- Audio: 50 MB (recommended), 100 MB (max)
- Video: 100 MB

**How to fix:**
- Compress the file before uploading
- Use a lower resolution or bitrate
- Split large files into smaller chunks

---

### 422 Unprocessable Entity

Request is syntactically valid but cannot be processed.

```json
{
  "error": {
    "code": "unprocessable_entity",
    "message": "Cannot process this request",
    "details": {
      "model": "Model 'invalid-model' is not available"
    }
  }
}
```

**Common causes:**
- Specified model doesn't exist or is unavailable
- Unsupported file format
- Incompatible parameter combinations

**How to fix:**
- Use `/models` endpoint to get available models
- Check supported file formats in documentation
- Review parameter requirements

---

### 429 Too Many Requests

Rate limit exceeded.

```json
{
  "error": {
    "code": "rate_limit_exceeded",
    "message": "Too many requests. Please slow down.",
    "details": {
      "retry_after": 60,
      "limit": "300 requests per minute"
    }
  }
}
```

**Rate limits:**
- Default: 300 requests per minute
- Applies to all endpoints combined

**How to fix:**
- Implement exponential backoff
- Respect the `retry_after` value
- Contact support for higher limits

---

### 500 Internal Server Error

Unexpected server-side error.

```json
{
  "error": {
    "code": "internal_error",
    "message": "An unexpected error occurred"
  }
}
```

**How to handle:**
- Retry with exponential backoff
- If persistent, check [status.deapi.ai](https://status.deapi.ai)
- Contact support with your `request_id`

---

### 502/503 Service Unavailable

Backend services temporarily unavailable.

```json
{
  "error": {
    "code": "service_unavailable",
    "message": "Service temporarily unavailable. Please retry."
  }
}
```

**How to handle:**
- Retry after a few seconds
- Check [status.deapi.ai](https://status.deapi.ai) for outages
- These are usually temporary

## Error Handling Best Practices

### Implement Retry Logic

Use exponential backoff for transient errors (429, 500, 502, 503):

<CodeGroup>

```python Python
import time
import requests

def api_request_with_retry(url, headers, data, max_retries=3):
    for attempt in range(max_retries):
        response = requests.post(url, headers=headers, json=data)
        
        if response.status_code == 200:
            return response.json()
        
        if response.status_code in [429, 500, 502, 503]:
            wait_time = (2 ** attempt) + 1  # 1, 3, 5 seconds
            print(f"Retrying in {wait_time}s...")
            time.sleep(wait_time)
            continue
        
        # Non-retryable error
        response.raise_for_status()
    
    raise Exception("Max retries exceeded")
```

```javascript JavaScript
async function apiRequestWithRetry(url, options, maxRetries = 3) {
  for (let attempt = 0; attempt < maxRetries; attempt++) {
    const response = await fetch(url, options);
    
    if (response.ok) {
      return await response.json();
    }
    
    if ([429, 500, 502, 503].includes(response.status)) {
      const waitTime = Math.pow(2, attempt) + 1;
      console.log(`Retrying in ${waitTime}s...`);
      await new Promise(r => setTimeout(r, waitTime * 1000));
      continue;
    }
    
    // Non-retryable error
    throw new Error(`API error: ${response.status}`);
  }
  
  throw new Error("Max retries exceeded");
}
```

</CodeGroup>

### Validate Before Sending

Check parameters locally before making API calls:

```python
def validate_image_request(params):
    errors = []
    
    if not params.get("prompt"):
        errors.append("prompt is required")
    
    if params.get("width", 512) < 64 or params.get("width", 512) > 2048:
        errors.append("width must be between 64 and 2048")
    
    if errors:
        raise ValueError(f"Validation errors: {errors}")
```

### Log Errors for Debugging

Always log error responses for troubleshooting:

```python
import logging

logger = logging.getLogger(__name__)

try:
    response = make_api_call()
except APIError as e:
    logger.error(f"API Error: {e.status_code} - {e.message}", extra={
        "request_id": e.request_id,
        "endpoint": e.endpoint,
        "params": e.params
    })
```

## Job Status Codes

When polling `/request-status/{id}`, you'll receive these status values:

| Status | Description | Action |
|--------|-------------|--------|
| `pending` | Job queued, waiting for worker | Continue polling |
| `processing` | Job actively running | Continue polling |
| `done` | Job completed successfully | Retrieve results |
| `failed` | Job failed | Check error details |

### Status Response Example

```json
{
  "data": {
    "status": "done",
    "progress": 100.0,
    "result_url": "https://cdn.deapi.ai/results/abc123.png",
    "result": null,
    "preview": null
  }
}
```

## Getting Help

If you encounter persistent errors:

1. Check [status.deapi.ai](https://status.deapi.ai) for service status
2. Review the API documentation for the endpoint
3. Join our [Discord](https://discord.com/invite/UFfK5YRBsr) for community support
4. Contact [support@deapi.ai](mailto:support@deapi.ai) with:
   - Your `request_id`
   - The full error response
   - Steps to reproduce the issue
